#include <stdio.h>
#include <netdb.h>

int main()
{
    int mSocket;
    int conn;

    struct sockaddr_in target;

    mSocket = socket(AF_INET, SOCK_STREAM, 0);
    target.sin_family = AF_INET;
    target.sin_port = htons(40);
    target.sin_addr.s_addr = inet_addr("192.168.0.1");

    conn = connect(mSocket, (struct sockaddr *)&target, sizeof target);

    if(conn == 0) {
        close(mSocket);
        close(conn);

        printf("Porta Aberta\n");
    } else {
        printf("Porta Fechada\n");
    }

    return 0;
}
